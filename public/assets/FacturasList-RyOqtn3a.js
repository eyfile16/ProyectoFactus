import{r as n,l as p,c as b,b as v,V as e,T as s,u as _,o as y,W as g,Z as h}from"./index-ConCm_F-.js";import{Q}from"./QInput-Cz8fbQWQ.js";import{Q as x,b as k}from"./QTable-BUWrZeTf.js";import{a as w}from"./index-DW_MHI2K.js";import{u as F}from"./use-quasar-CWqgSqmt.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-MEHmbXNd.js";import"./use-dark-Df08ketR.js";const B={class:"q-pa-md"},$={__name:"FacturasList",setup(q){const i=F(),u=_(),c=n([]),r=n(!1),l=n(""),d=[{name:"id",label:"ID",field:"id",sortable:!0},{name:"fecha",label:"Fecha",field:"fecha",sortable:!0},{name:"cliente",label:"Cliente",field:"cliente",sortable:!0},{name:"total",label:"Total",field:"total",sortable:!0,format:a=>`$${a.toFixed(2)}`},{name:"estado",label:"Estado",field:"estado",sortable:!0},{name:"actions",label:"Acciones",field:"actions"}],m=async()=>{r.value=!0;try{const a=await w.get("/api/facturas/bills");c.value=a.data}catch(a){console.error("Error al cargar facturas:",a),i.notify({type:"negative",message:"Error al cargar las facturas",position:"top"})}finally{r.value=!1}},f=a=>{u.push(`/invoice/${a}`)};return p(()=>{m()}),(a,t)=>(y(),b("div",B,[t[1]||(t[1]=v("h1",{class:"text-h4 q-mb-md"},"Listado de Facturas",-1)),e(x,{rows:c.value,columns:d,"row-key":"id",loading:r.value,filter:l.value,class:"my-sticky-header-table"},{top:s(()=>[e(Q,{dense:"",debounce:"300",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value=o),placeholder:"Buscar",class:"q-mb-md"},{append:s(()=>[e(h,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-actions":s(o=>[e(k,{props:o},{default:s(()=>[e(g,{flat:"",round:"",color:"primary",icon:"visibility",onClick:C=>f(o.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","loading","filter"])]))}},R=V($,[["__scopeId","data-v-0bb5b3df"]]);export{R as default};
